@model CreateCardModel

<div class="text-center mb-4">
    <h3 class="font-weight-bold">Create a new card</h3>
</div>

<form asp-controller="Card" asp-action="GetBiblePassage" method="get" class="form-horizontal">

    <div class="form-group row">
        <label asp-for="SelectedTranslation" class="col-sm-1 col-form-label">Translation</label>
        <div class="col-sm-9">
            <select asp-for="SelectedTranslation" asp-items="Model.Translations" class="form-control"></select>
            <span asp-validation-for="SelectedTranslation" class="text-danger"></span>
        </div>
    </div>

    <div class="form-group row">
        <label asp-for="Passage" class="col-sm-1 col-form-label"></label>
        <div class="col-sm-9">
            <input asp-for="Passage" class="form-control" placeholder="e.g., romans 12:1-2" />
            <span asp-validation-for="Passage" class="text-danger"></span>
        </div>
    </div>

    <div class="form-group row mt-4">
        <div class="col-sm-10 offset-sm-1">
            <button type="submit" class="btn btn-primary">Lookup</button>
        </div>
    </div>

</form>

<div id="bible-passage-container"></div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    $(document).ready(function() {
        $('#lookup-form').submit(function(event) {
            event.preventDefault(); // Prevent the default form submission

            var bibleId = $('#SelectedTranslation').val();
            var passage = $('#Passage').val();

            $.ajax({
                url: $(this).attr('action'),
                type: $(this).attr('method'),
                data: { bibleId: bibleId, passage: passage },
                success: function(data) {
                    $('#bible-passage-container').html(data);
                }
            });
        });
    });
</script>

